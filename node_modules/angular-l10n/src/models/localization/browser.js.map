{"version":3,"file":"browser.js","sourceRoot":"","sources":["../../../../src/models/localization/browser.ts"],"names":[],"mappings":"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","sourcesContent":["import { LocaleService } from '../../services/locale.service';\n/**\n * Manages the browser for storage, navigator and Intl.\n */\nexport class Browser {\npublic storageIsDisabled: boolean;\nprivate hasCookie: boolean;\nprivate hasLocalStorage: boolean;\n/**\n * @param {?} locale\n */\nconstructor(public locale: LocaleService) {\r\n        this.hasCookie = typeof navigator.cookieEnabled !== \"undefined\" && navigator.cookieEnabled;\r\n        this.hasLocalStorage = typeof Storage !== \"undefined\";\r\n    }\n/**\n * @param {?} name\n * @return {?}\n */\npublic readStorage(name: string): string {\r\n        let /** @type {?} */ value: string;\r\n        if (!this.storageIsDisabled) {\r\n            if (this.locale.configuration.localStorage && this.hasLocalStorage) {\r\n                value = this.getLocalStorage(name);\r\n            } else if (this.hasCookie) {\r\n                value = this.getCookie(name);\r\n            }\r\n        }\r\n        return value;\r\n    }\n/**\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\npublic writeStorage(name: string, value: string): void {\r\n        if (!this.storageIsDisabled) {\r\n            if (this.locale.configuration.localStorage && this.hasLocalStorage) {\r\n                this.setLocalStorage(name, value);\r\n            } else if (this.hasCookie) {\r\n                this.setCookie(name, value);\r\n            }\r\n        }\r\n    }\n/**\n * @return {?}\n */\npublic getBrowserLanguage(): string {\r\n        let /** @type {?} */ browserLanguage: string;\r\n        if (typeof navigator.language !== \"undefined\") {\r\n            browserLanguage = navigator.language;\r\n        }\r\n        if (browserLanguage != null) {\r\n            let /** @type {?} */ index: number = browserLanguage.indexOf(\"-\");\r\n            if (index != -1) {\r\n                browserLanguage = browserLanguage.substring(0, index);\r\n            }\r\n        }\r\n        return browserLanguage;\r\n    }\n/**\n * @param {?} name\n * @return {?}\n */\nprivate getLocalStorage(name: string): string {\r\n        return localStorage.getItem(name);\r\n    }\n/**\n * @param {?} name\n * @return {?}\n */\nprivate getCookie(name: string): string {\r\n        let /** @type {?} */ result: RegExpExecArray = new RegExp(\"(?:^|; )\" +\r\n            encodeURIComponent(name) +\r\n            \"=([^;]*)\").exec(document.cookie);\r\n        return result ? result[1] : null;\r\n    }\n/**\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nprivate setLocalStorage(name: string, value: string): void {\r\n        localStorage.setItem(name, value);\r\n    }\n/**\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nprivate setCookie(name: string, value: string): void {\r\n        let /** @type {?} */ expires: string = \"\";\r\n        if (this.locale.configuration.cookiesExpirationDays != null) {\r\n            let /** @type {?} */ expirationDate: Date = new Date();\r\n            expirationDate.setTime(\r\n                expirationDate.getTime() +\r\n                (this.locale.configuration.cookiesExpirationDays * 24 * 60 * 60 * 1000)\r\n            );\r\n            expires = \"; expires=\" + expirationDate.toUTCString();\r\n        }\r\n        document.cookie = name + \"=\" + value + expires + \"; path=/\";\r\n    }\r\n\r\n}\n\nfunction Browser_tsickle_Closure_declarations() {\n/** @type {?} */\nBrowser.prototype.storageIsDisabled;\n/** @type {?} */\nBrowser.prototype.hasCookie;\n/** @type {?} */\nBrowser.prototype.hasLocalStorage;\n/** @type {?} */\nBrowser.prototype.locale;\n}\n\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}